(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-exam-exam"],{"0fb2":function(t,e,a){"use strict";a.r(e);var n=a("145e1"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=s.a},"13d5":function(t,e,a){"use strict";var n=a("23e7"),s=a("d58f").left,i=a("a640"),r=a("ae40"),o=i("reduce"),c=r("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!c},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"145e1":function(t,e,a){"use strict";(function(t){var n=a("ee27");a("13d5"),a("d3b7"),a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a("4828")),i=a("2f62"),r=a("6ffa"),o=r.request,c=r.log,u={data:function(){return{enableShowAnswer:!1,userFavor:!1,currentType:0,subjectIndex:0,autoShowAnswer:!1,autoRadioNext:!0,swiperHeight:"800px",title:"初中二年级2019期中考券",subjectList:[{title:"水是液体？",type:1,optionList:[{id:"A",content:"对"},{id:"B",content:"错"}],answer:"A",userAnswer:"",userFavor:!1,explain:"难到是固体不成？"},{title:"电流分有？",type:2,optionList:[{id:"A",content:"直流"},{id:"B",content:"交流"},{id:"C",content:"直流和交流"}],answer:"C",userAnswer:"",userFavor:!1,explain:"科技学依据"},{title:"酸菜鱼的味道？",type:3,optionList:[{id:"A",content:"咸味"},{id:"B",content:"辣味"},{id:"C",content:"甜味"},{id:"D",content:"酸味"}],answer:"A,B,D",userAnswer:"",userFavor:!1,explain:"你怎么想都行，要的就是这个味，答案只能选A,B,D"},{title:"床前（____）光，疑是地上霜。",type:4,optionList:[{id:"",content:""}],answer:"明月",userAnswer:"",userFavor:!1,explain:"问答题没有选项，无法做答，且不参与计分"},{title:"什么美国要限制华为？",type:5,optionList:[{id:"",content:""}],answer:"",userAnswer:"",userFavor:!1,explain:"问答题没有选项，无法做答，且不参与计分"}],modalCard:null,modalError:null,errorList:["题目不完整","答案不正确","含有错别字","图片不存在","解析不完整","其他错误"]}},computed:(0,i.mapState)(["forcedLogin","hasLogin","userName"]),onReady:function(){var e=800,a=this;uni.getSystemInfo({success:function(n){e=n.windowHeight,t.log("屏幕可用高度 "+e),uni.createSelectorQuery().select("#top-box").fields({size:!0,scrollOffset:!0},(function(n){e-=n.height,t.log("减掉顶部后的高度 "+e),uni.createSelectorQuery().select("#foot-box").fields({size:!0,scrollOffset:!0},(function(n){e-=n.height,t.log("减掉底部后的高度 "+e),a.swiperHeight=e+"px",t.log("滑屏最后高度 "+a.swiperHeight)})).exec()})).exec()}})},onLoad:function(e){var a=this;t.log("op: ",e),s.default.chenckLogin(this),this.enableShowAnswer=-1==e.currentQs,this.getExam(e).then((function(t){a.currentType=a.subjectList[0].type,uni.setNavigationBarTitle({title:a.title});for(var e=0;e<a.subjectList.length;e++)a.$set(a.subjectList[e],"showAnswer",!1)})).catch(c("onLoad error: "))},methods:{backToIndex:function(){uni.switchTab({url:"../index/index"})},getExam:function(t){var e=this;return o("get-exam",t).then(c("get-exam: ")).then((function(t){return t.errcode?(uni.showModal({content:t.errmsg,showCancel:!1,success:function(){return uni.switchTab({url:"../index/index"})}}),Promise.reject(t)):t})).then((function(a){return e.subjectList=a.content,e.title=t.name,a})).catch(c("get-exam error: "))},submitAnswer:function(){var e=this,a=this.subjectList.reduce((function(t,e){return{userAnswer:t.userAnswer+","+e.userAnswer}}));t.log("submit answers: ",a),o("answer",{exam_name:this.title,answers:a.userAnswer}).then(c("answer return: ")).then((function(t){t&&(e.enableShowAnswer=!0,uni.showModal({content:"交卷成功，你的考试成绩为".concat(t.content.score,"分"),showCancel:!1,success:function(){}})),t.errcode&&uni.showModal({content:t.errmsg,showCancel:!1,success:function(){}})})).catch(c("answer error: "))},showCardModal:function(t){this.modalCard=t.currentTarget.dataset.target},hideCardModal:function(t){this.modalCard=null},showErrorModal:function(t){this.modalError=t.currentTarget.dataset.target},hideErrorModal:function(t){this.modalError=null},SwiperChange:function(t){var e=t.target.current;void 0!=e&&(this.subjectIndex=e,this.currentType=this.subjectList[e].type,this.userFavor=this.subjectList[e].userFavor)},RadioboxChange:function(t){this.subjectList[this.subjectIndex].optionList;var e=t.detail.value;this.subjectList[this.subjectIndex].userAnswer=e,this.autoRadioNext&&this.subjectIndex<this.subjectList.length-1&&(this.subjectIndex+=1)},CheckboxChange:function(t){var e=this.subjectList[this.subjectIndex].optionList,a=t.detail.value;this.subjectList[this.subjectIndex].userAnswer="";for(var n=0,s=e.length;n<s;++n)for(var i=0,r=a.length;i<r;++i)if(e[n].id==a[i]){this.subjectList[this.subjectIndex].userAnswer+=e[n].id;break}},textInput:function(t){this.subjectList[this.subjectIndex].userAnswer=t.detail.value},ShowAnswerChange:function(t){this.subjectList[this.subjectIndex].showAnswer?this.subjectList[this.subjectIndex].showAnswer=!1:this.subjectList[this.subjectIndex].showAnswer=!0},FavorSubject:function(t){this.userFavor?(this.userFavor=!1,this.subjectList[this.subjectIndex].userFavor=!1):(this.userFavor=!0,this.subjectList[this.subjectIndex].userFavor=!0)},MoveSubject:function(t){-1===t&&0!=this.subjectIndex&&(this.subjectIndex-=1),1===t&&this.subjectIndex<this.subjectList.length-1&&(this.subjectIndex+=1)},AppointedSubject:function(t){this.modalCard=null,this.subjectIndex=t},SubmitError:function(t){this.modalError=null}}};e.default=u}).call(this,a("5a52")["default"])},"1f12":function(t,e,a){var n=a("e173");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("4f06").default;s("2b807394",n,!0,{sourceMap:!1,shadowMode:!1})},"6b43":function(t,e,a){"use strict";a.r(e);var n=a("daf0"),s=a("0fb2");for(var i in s)"default"!==i&&function(t){a.d(e,t,(function(){return s[t]}))}(i);a("d366");var r,o=a("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"5d320362",null,!1,n["a"],r);e["default"]=c.exports},d366:function(t,e,a){"use strict";var n=a("1f12"),s=a.n(n);s.a},daf0:function(t,e,a){"use strict";var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom",attrs:{id:"top-box"}},[a("v-uni-view",{staticClass:"action text-black"},[1===t.currentType?a("v-uni-text",[t._v("判断题")]):2===t.currentType?a("v-uni-text",[t._v("单选题")]):3===t.currentType?a("v-uni-text",[t._v("多选题")]):4===t.currentType?a("v-uni-text",[t._v("填空题")]):5===t.currentType?a("v-uni-text",[t._v("问答题")]):t._e()],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-button",{staticClass:"cu-btn bg-green shadow",attrs:{"data-target":"modalCard"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCardModal.apply(void 0,arguments)}}},[t._v("答题卡")])],1)],1),a("v-uni-view",{staticClass:"cu-modal",class:"modalCard"==t.modalCard?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCardModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-scroll-view",{staticClass:"page padding",style:{height:t.swiperHeight},attrs:{"scroll-y":!0}},[a("v-uni-view",{staticClass:"cu-bar solid-bottom"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-title text-red"}),t._v("答题卡")],1)],1),a("v-uni-view",{staticClass:"grid col-5 "},t._l(t.subjectList,(function(e,n){return a("v-uni-view",{key:n,staticClass:"margin-tb-sm text-center"},[a("v-uni-button",{staticClass:"cu-btn round",class:[0===e.userAnswer.length?"line-grey":"bg-red"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.AppointedSubject(n)}}},[t._v(t._s(n+1))])],1)})),1)],1)],1)],1),a("v-uni-form",[a("v-uni-swiper",{staticClass:"swiper-box",style:{height:t.swiperHeight},attrs:{current:t.subjectIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.SwiperChange.apply(void 0,arguments)}}},t._l(t.subjectList,(function(e,n){return a("v-uni-swiper-item",{key:n},[a("v-uni-scroll-view",{style:{height:t.swiperHeight},attrs:{"scroll-y":"true","show-scrollbar":"true"}},[n-t.subjectIndex>=-1&&n-t.subjectIndex<=1?a("v-uni-view",[a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom"},[a("v-uni-view",{staticClass:"action text-black"},[a("v-uni-text",{staticClass:"cuIcon-title text-red"}),t._v(t._s(e.title))],1)],1),a("v-uni-view",[1===e.type||2===e.type?a("v-uni-radio-group",{staticClass:"block",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.RadioboxChange.apply(void 0,arguments)}}},t._l(e.optionList,(function(n){return a("v-uni-view",{key:n.id,staticClass:"cu-form-group"},[a("v-uni-radio",{attrs:{value:n.id,checked:e.userAnswer.indexOf(n.id)>-1}}),a("v-uni-view",{staticClass:"title text-black"},[t._v(t._s(n.id)+"."+t._s(n.content))])],1)})),1):3===e.type?a("v-uni-checkbox-group",{staticClass:"block",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.CheckboxChange.apply(void 0,arguments)}}},t._l(e.optionList,(function(n){return a("v-uni-view",{key:n.id,staticClass:"cu-form-group"},[a("v-uni-checkbox",{class:e.userAnswer.indexOf(n.id)>-1?"checked":"",attrs:{value:n.id,checked:e.userAnswer.indexOf(n.id)>-1}}),a("v-uni-view",{staticClass:"title  text-black"},[t._v(t._s(n.id)+"."+t._s(n.content))])],1)})),1):4===e.type?a("v-uni-view",[a("v-uni-view",{staticClass:"cu-form-group solid-bottom"},[a("v-uni-view",{staticClass:"title  text-black"},[t._v("答：")]),a("v-uni-input",{attrs:{placeholder:"文本输入框",name:"input"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.textInput.apply(void 0,arguments)}},model:{value:e.userAnswer,callback:function(a){t.$set(e,"userAnswer",a)},expression:"subject.userAnswer"}})],1)],1):5===e.type?a("v-uni-view",[a("v-uni-view",{staticClass:"cu-bar cu-bar-title bg-white margin-top"},[a("v-uni-view",{staticClass:"action  text-black"},[t._v("答：")])],1),a("v-uni-view",{staticClass:"cu-form-group solid margin"},[a("v-uni-textarea",{attrs:{maxlength:"-1",placeholder:"多行文本输入框"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.textInput.apply(void 0,arguments)}},model:{value:e.userAnswer,callback:function(a){t.$set(e,"userAnswer",a)},expression:"subject.userAnswer"}})],1)],1):t._e()],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showAnswer,expression:"subject.showAnswer"}],staticClass:"margin-top solid-top"},[a("v-uni-view",{staticClass:"cu-bar"},[a("v-uni-view",{staticClass:"action  text-grey"},[a("v-uni-text",[t._v("正确答案：")]),a("v-uni-text",{staticClass:"solid-bottom  padding-left text-green"},[t._v(t._s(e.answer))])],1)],1),a("v-uni-view",{staticClass:"cu-bar cu-bar-title"},[a("v-uni-view",{staticClass:"action  text-grey"},[a("v-uni-text",[t._v("解析：")])],1)],1),a("v-uni-view",{staticClass:"text-content padding  text-grey"},[t._v(t._s(e.explain))])],1)],1):t._e()],1)],1)})),1)],1),a("v-uni-view",{staticClass:"cu-bar tabbar bg-white shadow foot",attrs:{id:"foot-box"}},[a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.MoveSubject(-1)}}},[a("v-uni-view",{staticClass:"cuIcon-cu-image"},[a("v-uni-text",{staticClass:"lg cuIcon-back text-gray"})],1),a("v-uni-view",{staticClass:"text-gray"},[t._v("上一题")])],1),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.MoveSubject(1)}}},[a("v-uni-view",{staticClass:"cuIcon-cu-image"},[a("v-uni-text",{staticClass:"lg text-gray cuIcon-right"})],1),a("v-uni-view",{staticClass:"text-gray"},[t._v("下一题")])],1),t.enableShowAnswer?a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ShowAnswerChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-cu-image"},[a("v-uni-text",{staticClass:"lg text-gray cuIcon-question"})],1),a("v-uni-view",{staticClass:"text-gray"},[t._v("解答")])],1):t._e(),t.enableShowAnswer?t._e():a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitAnswer.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-cu-image"},[a("v-uni-text",{staticClass:"lg text-gray cuIcon-question"})],1),a("v-uni-view",{staticClass:"text-gray"},[t._v("交卷")])],1),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backToIndex.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cuIcon-cu-image"},[a("v-uni-text",{staticClass:"lg text-gray cuIcon-question"})],1),a("v-uni-view",{staticClass:"text-gray"},[t._v("返回")])],1)],1)],1)},i=[];a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}))},e173:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"/* \n  Animation 微动画  \n  基于ColorUI组建库的动画模块 by 文晓港 2019年3月26日19:52:28\n */\n\n/* css 滤镜 控制黑白底色gif的 */.gif-black[data-v-5d320362]{mix-blend-mode:screen}.gif-white[data-v-5d320362]{mix-blend-mode:multiply}\n\n/* Animation css */[class*=animation-][data-v-5d320362]{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animation-fade[data-v-5d320362]{-webkit-animation-name:fade-data-v-5d320362;animation-name:fade-data-v-5d320362;-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-timing-function:linear;animation-timing-function:linear}.animation-scale-up[data-v-5d320362]{-webkit-animation-name:scale-up-data-v-5d320362;animation-name:scale-up-data-v-5d320362}.animation-scale-down[data-v-5d320362]{-webkit-animation-name:scale-down-data-v-5d320362;animation-name:scale-down-data-v-5d320362}.animation-slide-top[data-v-5d320362]{-webkit-animation-name:slide-top-data-v-5d320362;animation-name:slide-top-data-v-5d320362}.animation-slide-bottom[data-v-5d320362]{-webkit-animation-name:slide-bottom-data-v-5d320362;animation-name:slide-bottom-data-v-5d320362}.animation-slide-left[data-v-5d320362]{-webkit-animation-name:slide-left-data-v-5d320362;animation-name:slide-left-data-v-5d320362}.animation-slide-right[data-v-5d320362]{-webkit-animation-name:slide-right-data-v-5d320362;animation-name:slide-right-data-v-5d320362}.animation-shake[data-v-5d320362]{-webkit-animation-name:shake-data-v-5d320362;animation-name:shake-data-v-5d320362}.animation-reverse[data-v-5d320362]{animation-direction:reverse}@-webkit-keyframes fade-data-v-5d320362{0%{opacity:0}100%{opacity:1}}@keyframes fade-data-v-5d320362{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes scale-up-data-v-5d320362{0%{opacity:0;-webkit-transform:scale(.2);transform:scale(.2)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes scale-up-data-v-5d320362{0%{opacity:0;-webkit-transform:scale(.2);transform:scale(.2)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes scale-down-data-v-5d320362{0%{opacity:0;-webkit-transform:scale(1.8);transform:scale(1.8)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes scale-down-data-v-5d320362{0%{opacity:0;-webkit-transform:scale(1.8);transform:scale(1.8)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes slide-top-data-v-5d320362{0%{opacity:0;-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slide-top-data-v-5d320362{0%{opacity:0;-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes slide-bottom-data-v-5d320362{0%{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slide-bottom-data-v-5d320362{0%{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes shake-data-v-5d320362{0%,\n    100%{-webkit-transform:translateX(0);transform:translateX(0)}10%{-webkit-transform:translateX(-9px);transform:translateX(-9px)}20%{-webkit-transform:translateX(8px);transform:translateX(8px)}30%{-webkit-transform:translateX(-7px);transform:translateX(-7px)}40%{-webkit-transform:translateX(6px);transform:translateX(6px)}50%{-webkit-transform:translateX(-5px);transform:translateX(-5px)}60%{-webkit-transform:translateX(4px);transform:translateX(4px)}70%{-webkit-transform:translateX(-3px);transform:translateX(-3px)}80%{-webkit-transform:translateX(2px);transform:translateX(2px)}90%{-webkit-transform:translateX(-1px);transform:translateX(-1px)}}@keyframes shake-data-v-5d320362{0%,\n    100%{-webkit-transform:translateX(0);transform:translateX(0)}10%{-webkit-transform:translateX(-9px);transform:translateX(-9px)}20%{-webkit-transform:translateX(8px);transform:translateX(8px)}30%{-webkit-transform:translateX(-7px);transform:translateX(-7px)}40%{-webkit-transform:translateX(6px);transform:translateX(6px)}50%{-webkit-transform:translateX(-5px);transform:translateX(-5px)}60%{-webkit-transform:translateX(4px);transform:translateX(4px)}70%{-webkit-transform:translateX(-3px);transform:translateX(-3px)}80%{-webkit-transform:translateX(2px);transform:translateX(2px)}90%{-webkit-transform:translateX(-1px);transform:translateX(-1px)}}@-webkit-keyframes slide-left-data-v-5d320362{0%{opacity:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}100%{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slide-left-data-v-5d320362{0%{opacity:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}100%{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes slide-right-data-v-5d320362{0%{opacity:0;-webkit-transform:translateX(100%);transform:translateX(100%)}100%{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slide-right-data-v-5d320362{0%{opacity:0;-webkit-transform:translateX(100%);transform:translateX(100%)}100%{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}}uni-page-body[data-v-5d320362]{background-color:#fff}.cu-form-group[data-v-5d320362]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.cu-form-group .title[data-v-5d320362]{padding-left:%?30?%;padding-right:%?0?%}.cu-form-group + .cu-form-group[data-v-5d320362]{border-top:none}.cu-bar-title[data-v-5d320362]{min-height:%?50?%}.cu-list.menu > .cu-item-error[data-v-5d320362]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}body.?%PAGE?%[data-v-5d320362]{background-color:#fff}",""]),t.exports=e}}]);